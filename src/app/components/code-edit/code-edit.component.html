<div class="editor-wrapper oh-no-backspace-nav">
  <ngx-monaco-editor *ngIf="editMode === 'edit'" [options]="editorOptions" [formControl]="control"
    (init)="onEditorInit($event)"></ngx-monaco-editor>
  <ngx-monaco-diff-editor *ngIf="editMode === 'diff'" [options]="editorOptions" [original]="originalCode"
    [modified]="control.value">
  </ngx-monaco-diff-editor>
</div>

<footer>
  <mat-error *ngIf="!isDialog && !allowErrors && errors.length > 0">You have errors, cannot auto-save</mat-error>

  <div *ngIf="isDialog" class="button-actions">
    <ng-container *ngIf="!readonly">
      <button mat-raised-button (click)="onReset()">Reset</button>
      <button mat-raised-button (click)="onToggle()">{{editMode === 'diff' ? 'Edit' : 'Diff'}}</button>
      <div class="spacer"></div>
      <button mat-raised-button color="primary" (click)="onCancel()">Cancel</button>
      <button mat-raised-button color="primary" (click)="onSave()">Save</button>
    </ng-container>

    <button *ngIf="readonly" mat-raised-button color="primary" (click)="onCancel()">Close</button>
  </div>
</footer>

<section *ngIf="showErrors" class="close-with-errors">
  <oh-my-code-errors (done)="onDoneErrors($event)" [errors]="errors" [allowErrors]="allowErrors"></oh-my-code-errors>
</section>
